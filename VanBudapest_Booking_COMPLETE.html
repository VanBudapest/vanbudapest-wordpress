<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VanBudapest Booking Form - Complete</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Poppins:wght@500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --vb-navy: #0A1F44;
      --vb-navy-light: #12306A;
      --vb-gold: #C8B560;
      --vb-gold-dark: #B78D38;
      --vb-gold-light: #E5D9A8;
      --vb-white: #FFFFFF;
      --vb-cream: #F5F0E8;
      --vb-gray: #F5F5F5;
      --vb-gray-dark: #666;
      --vb-error: #D26A50;
      --vb-success: #2D5F4F;
      --vb-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --vb-shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
      --vb-transition: all 0.3s ease;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Open Sans', Arial, sans-serif; background: var(--vb-cream); color: var(--vb-navy); line-height: 1.6; }
    .vb-header { background: var(--vb-navy); padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; }
    .vb-logo { color: var(--vb-gold); font-family: 'Playfair Display', Georgia, serif; font-size: 24px; }
    .vb-header-contact { color: var(--vb-white); font-size: 14px; display: flex; align-items: center; gap: 6px; }
    .vb-header-contact svg { width: 16px; height: 16px; }
    .vb-form-container { max-width: 900px; margin: 40px auto; padding: 0 20px; }
    .vb-progress { background: var(--vb-white); border-radius: 12px; padding: 24px 32px; margin-bottom: 24px; box-shadow: var(--vb-shadow); }
    .vb-progress-title { font-family: 'Montserrat', sans-serif; font-size: 14px; color: var(--vb-gray-dark); margin-bottom: 16px; text-transform: uppercase; letter-spacing: 1px; }
    .vb-steps { display: flex; justify-content: space-between; position: relative; }
    .vb-steps::before { content: ''; position: absolute; top: 20px; left: 60px; right: 60px; height: 2px; background: #ddd; z-index: 0; }
    .vb-progress-line { position: absolute; top: 20px; left: 60px; height: 2px; background: var(--vb-success); z-index: 1; transition: width 0.4s ease; width: 0; max-width: calc(100% - 120px); }
    .vb-step { display: flex; flex-direction: column; align-items: center; position: relative; z-index: 2; }
    .vb-step-number { width: 40px; height: 40px; border-radius: 50%; background: #ddd; color: var(--vb-gray-dark); display: flex; align-items: center; justify-content: center; font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 8px; transition: var(--vb-transition); }
    .vb-step.active .vb-step-number { background: var(--vb-gold); color: var(--vb-navy); }
    .vb-step.completed .vb-step-number { background: var(--vb-success); color: var(--vb-white); }
    .vb-step-label { font-size: 12px; color: var(--vb-gray-dark); text-align: center; max-width: 100px; }
    .vb-step.active .vb-step-label { color: var(--vb-navy); font-weight: 600; }
    .vb-progress-back { display: none; margin-top: 14px; text-align: center; }
    .vb-progress-back.show { display: block; }
    .vb-back-link { display: inline-block; padding: 10px 24px; background: transparent; border: 2px solid var(--vb-navy); border-radius: 8px; color: var(--vb-navy); font-size: 13px; font-weight: 600; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: var(--vb-transition); }
    .vb-back-link:hover { background: var(--vb-navy); color: var(--vb-white); }
    .vb-form-card { background: var(--vb-white); border-radius: 12px; padding: 40px; box-shadow: var(--vb-shadow); display: none; }
    .vb-form-card.active { display: block; }
    .vb-form-title { font-family: 'Playfair Display', Georgia, serif; font-size: 28px; color: var(--vb-navy); margin-bottom: 8px; }
    .vb-form-subtitle { color: var(--vb-gray-dark); margin-bottom: 32px; }
    .vb-service-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 32px; }
    @media (max-width: 768px) { .vb-service-grid { grid-template-columns: repeat(2, 1fr); } }
    .vb-service-card { border: 2px solid #e0e0e0; border-radius: 12px; padding: 24px 16px; text-align: center; cursor: pointer; transition: var(--vb-transition); }
    .vb-service-card:hover { border-color: var(--vb-gold); transform: translateY(-4px); box-shadow: var(--vb-shadow-lg); }
    .vb-service-card.selected { border-color: var(--vb-gold); background: linear-gradient(135deg, rgba(200,181,96,0.1) 0%, rgba(200,181,96,0.05) 100%); }
    .vb-service-icon { width: 48px; height: 48px; margin: 0 auto 12px; color: var(--vb-navy); }
    .vb-service-icon svg { width: 100%; height: 100%; }
    .vb-service-name { font-family: 'Montserrat', sans-serif; font-weight: 600; font-size: 14px; color: var(--vb-navy); margin-bottom: 4px; }
    .vb-service-desc { font-size: 12px; color: var(--vb-gray-dark); }
    .vb-form-section { margin-bottom: 32px; }
    .vb-section-title { font-family: 'Montserrat', sans-serif; font-size: 16px; font-weight: 600; color: var(--vb-navy); margin-bottom: 20px; padding-bottom: 8px; border-bottom: 2px solid var(--vb-gold); display: inline-block; }
    .vb-form-row { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 20px; }
    @media (max-width: 600px) { .vb-form-row { grid-template-columns: 1fr; } }
    .vb-form-group { margin-bottom: 20px; }
    .vb-label { display: block; font-weight: 600; font-size: 14px; margin-bottom: 8px; color: var(--vb-navy); }
    .vb-label .required { color: var(--vb-error); }
    .vb-label .recommended { color: var(--vb-gold-dark); font-weight: 400; font-size: 12px; }
    .vb-input, .vb-select, .vb-textarea { width: 100%; padding: 14px 16px; border: 2px solid #e0e0e0; border-radius: 8px; font-family: 'Open Sans', Arial, sans-serif; font-size: 15px; transition: var(--vb-transition); }
    .vb-input:focus, .vb-select:focus, .vb-textarea:focus { outline: none; border-color: var(--vb-gold); }
    .vb-textarea { min-height: 120px; resize: vertical; }
    .vb-help-text { font-size: 12px; color: var(--vb-gray-dark); margin-top: 6px; }
    .vb-checkbox-group { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    @media (max-width: 600px) { .vb-checkbox-group { grid-template-columns: 1fr; } }
    .vb-checkbox-item { display: flex; align-items: center; padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px; cursor: pointer; transition: var(--vb-transition); }
    .vb-checkbox-item:hover { border-color: var(--vb-gold-light); }
    .vb-checkbox-item.checked { border-color: var(--vb-gold); background: rgba(200,181,96,0.1); }
    .vb-checkbox-item input { margin-right: 12px; width: 18px; height: 18px; accent-color: var(--vb-gold); }
    .vb-checkbox-item .cb-icon { width: 20px; height: 20px; margin-right: 8px; color: var(--vb-navy); flex-shrink: 0; }
    .vb-checkbox-item .cb-icon svg { width: 100%; height: 100%; }
    .vb-vehicle-selection { display: flex; flex-direction: column; gap: 12px; }
    .vb-vehicle-row { display: flex; align-items: center; gap: 16px; }
    .vb-vehicle-row .vb-checkbox-item { flex: 1; margin: 0; }
    .vb-vehicle-qty { display: none; align-items: center; gap: 8px; min-width: 110px; }
    .vb-vehicle-qty label { font-size: 14px; color: #666; font-weight: 500; }
    .vb-qty-input { width: 70px !important; text-align: center; padding: 8px 12px !important; }
    .vip-badge { display: inline-block; background: linear-gradient(135deg, #c9a227 0%, #d4af37 50%, #c9a227 100%); color: #1a365d; font-size: 11px; font-weight: 700; padding: 2px 8px; border-radius: 4px; margin-left: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
    .vb-radio-group { display: flex; gap: 16px; flex-wrap: wrap; }
    .vb-radio-item { display: flex; align-items: center; padding: 12px 20px; border: 2px solid #e0e0e0; border-radius: 8px; cursor: pointer; transition: var(--vb-transition); position: relative; overflow: hidden; }
    .vb-radio-item:hover { border-color: var(--vb-gold-light); }
    .vb-radio-item.checked { border-color: var(--vb-gold); background: rgba(200,181,96,0.1); }
    .vb-radio-item input { margin-right: 10px; accent-color: var(--vb-gold); }
    .vb-popular-badge { position: absolute; top: -10px; right: 16px; background: linear-gradient(135deg, #C8B560 0%, #A89540 100%); color: #fff; font-size: 11px; font-weight: 600; padding: 4px 10px; border-radius: 12px; letter-spacing: 0.5px; box-shadow: 0 2px 8px rgba(200,181,96,0.4); animation: pulse-glow 2s ease-in-out infinite; z-index: 10; }
    .vb-most-popular { overflow: visible !important; border: 2px solid #C8B560; background: linear-gradient(135deg, rgba(200,181,96,0.08) 0%, rgba(200,181,96,0.02) 100%); }
    @keyframes pulse-glow { 0%, 100% { box-shadow: 0 2px 8px rgba(200,181,96,0.4); } 50% { box-shadow: 0 2px 16px rgba(200,181,96,0.7), 0 0 24px rgba(200,181,96,0.3); } }
    .vb-services-summary { background: var(--vb-cream); border-radius: 12px; padding: 24px; margin-bottom: 32px; }
    .vb-summary-title { font-family: 'Montserrat', sans-serif; font-weight: 600; font-size: 14px; color: var(--vb-navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
    .vb-summary-count { background: var(--vb-gold); color: var(--vb-navy); padding: 2px 10px; border-radius: 12px; font-size: 12px; }
    .vb-service-item { background: var(--vb-white); border-radius: 8px; padding: 16px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--vb-shadow); }
    .vb-service-item-info { display: flex; align-items: center; gap: 12px; }
    .vb-service-item-icon { width: 32px; height: 32px; color: var(--vb-navy); }
    .vb-service-item-icon svg { width: 100%; height: 100%; }
    .vb-service-item-name { font-weight: 600; font-size: 14px; }
    .vb-service-item-details { font-size: 12px; color: var(--vb-gray-dark); }
    .vb-service-item-vehicles { font-size: 12px; color: #5a7a3d; margin-top: 4px; font-weight: 500; }
    .vb-service-item-guests { font-size: 12px; color: #666; margin-top: 2px; }
    .vb-service-item-actions { display: flex; gap: 8px; }
    .vb-btn-icon { width: 32px; height: 32px; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: var(--vb-transition); }
    .vb-btn-icon svg { width: 16px; height: 16px; }
    .vb-btn-edit { background: var(--vb-navy-light); color: var(--vb-white); }
    .vb-btn-edit:hover { background: var(--vb-navy); }
    .vb-btn-remove { background: #fee; color: var(--vb-error); }
    .vb-btn-remove:hover { background: var(--vb-error); color: var(--vb-white); }
    .vb-add-service-btn { width: 100%; padding: 16px; border: 2px dashed var(--vb-gold); border-radius: 8px; background: transparent; color: var(--vb-gold-dark); font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 14px; cursor: pointer; transition: var(--vb-transition); }
    .vb-add-service-btn:hover { background: rgba(200,181,96,0.1); }
    .vb-btn { display: inline-block; padding: 14px 32px; font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 14px; text-transform: uppercase; letter-spacing: 1.5px; text-decoration: none; border-radius: 8px; border: none; cursor: pointer; transition: var(--vb-transition); }
    .vb-btn-gold { background: var(--vb-gold); color: var(--vb-navy); }
    .vb-btn-gold:hover { background: var(--vb-gold-dark); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(200, 181, 96, 0.3); }
    .vb-btn-gold:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
    .vb-btn-outline { background: transparent; color: var(--vb-navy); border: 2px solid var(--vb-navy); }
    .vb-btn-outline:hover { background: var(--vb-navy); color: var(--vb-white); }
    .vb-form-actions { display: flex; justify-content: space-between; margin-top: 32px; padding-top: 24px; border-top: 1px solid #eee; }
    .vb-conditional { display: none; margin-top: 16px; padding: 16px; background: var(--vb-gray); border-radius: 8px; }
    .vb-conditional.show { display: block; }
    .vb-service-flow { display: none; }
    .vb-add-link { color: var(--vb-gold-dark); font-size: 14px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; margin-top: 8px; }
    .vb-add-link:hover { color: var(--vb-gold); }
    .vb-event-substeps { display: flex; justify-content: center; gap: 32px; margin-bottom: 32px; padding-bottom: 24px; border-bottom: 1px solid #eee; }
    .vb-event-substep { display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--vb-gray-dark); }
    .vb-event-substep.active { color: var(--vb-navy); font-weight: 600; }
    .vb-event-substep-num { width: 24px; height: 24px; border-radius: 50%; background: #e0e0e0; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; }
    .vb-event-substep.active .vb-event-substep-num { background: var(--vb-gold); color: var(--vb-navy); }
    .vb-event-substep.completed .vb-event-substep-num { background: var(--vb-success); color: var(--vb-white); }
    .vb-file-upload { border: 2px dashed #e0e0e0; border-radius: 8px; padding: 32px; text-align: center; cursor: pointer; transition: var(--vb-transition); }
    .vb-file-upload:hover { border-color: var(--vb-gold); background: rgba(200,181,96,0.05); }
    .vb-file-upload-icon { font-size: 32px; margin-bottom: 8px; }
    .vb-file-upload-text { font-size: 14px; color: var(--vb-gray-dark); }
    .vb-file-upload-formats { font-size: 12px; color: #999; margin-top: 4px; }
    .vb-terms { display: flex; align-items: flex-start; gap: 12px; margin-top: 24px; }
    .vb-terms input { margin-top: 4px; width: 18px; height: 18px; accent-color: var(--vb-gold); }
    .vb-terms label { font-size: 14px; }
    .vb-terms a { color: var(--vb-gold-dark); }
    .vb-confirmation { text-align: center; padding: 60px 40px; }
    .vb-confirmation-icon { width: 80px; height: 80px; background: var(--vb-success); color: var(--vb-white); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px; }
    .vb-confirmation-icon svg { width: 40px; height: 40px; }
    .vb-confirmation-title { font-family: 'Playfair Display', Georgia, serif; font-size: 32px; color: var(--vb-navy); margin-bottom: 16px; }
    .vb-confirmation-text { color: var(--vb-gray-dark); max-width: 500px; margin: 0 auto 32px; }
    .vb-next-steps { background: var(--vb-cream); border-radius: 12px; padding: 24px; text-align: left; max-width: 500px; margin: 0 auto; }
    .vb-next-steps-title { font-family: 'Montserrat', sans-serif; font-weight: 600; margin-bottom: 16px; }
    .vb-next-steps ol { margin-left: 20px; }
    .vb-next-steps li { margin-bottom: 8px; font-size: 14px; }
  </style>
</head>
<body>

  <header class="vb-header">
    <div class="vb-logo">VanBudapest</div>
    <div class="vb-header-contact">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>
      +36 70 753 6333
    </div>
  </header>

  <div class="vb-form-container">

    <div class="vb-progress">
      <div class="vb-progress-title">Your Booking Progress</div>
      <div class="vb-steps">
        <div class="vb-progress-line" id="progressLine"></div>
        <div class="vb-step active" data-step="1">
          <div class="vb-step-number">1</div>
          <div class="vb-step-label">Service Selection</div>
        </div>
        <div class="vb-step" data-step="2">
          <div class="vb-step-number">2</div>
          <div class="vb-step-label">Vehicle & Group</div>
        </div>
        <div class="vb-step" data-step="3">
          <div class="vb-step-number">3</div>
          <div class="vb-step-label">Service Details</div>
        </div>
        <div class="vb-step" data-step="4">
          <div class="vb-step-number">4</div>
          <div class="vb-step-label">Contact & Billing</div>
        </div>
      </div>
      <div class="vb-progress-back" id="progressBackBtn">
        <a class="vb-back-link" onclick="goToPreviousStep()">← BACK</a>
      </div>
    </div>

    <!-- STEP 1: Service Selection -->
    <div class="vb-form-card active" id="step1">
      <h2 class="vb-form-title">How can we help you today?</h2>
      <p class="vb-form-subtitle">Select the service that best fits your needs</p>

      <div class="vb-service-grid">
        <div class="vb-service-card" data-service="airport">
          <div class="vb-service-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16v-2l-8-5V3.5a1.5 1.5 0 00-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></svg>
          </div>
          <div class="vb-service-name">Transfers (Airport & Long-Distance)</div>
          <div class="vb-service-desc">One-way or return, any distance</div>
        </div>
        <div class="vb-service-card" data-service="hourly">
          <div class="vb-service-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
          </div>
          <div class="vb-service-name">Hourly Ride & Sightseeing</div>
          <div class="vb-service-desc">Chauffeur service or guided tours</div>
        </div>
        <div class="vb-service-card" data-service="countryside">
          <div class="vb-service-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 7l6 6 4-4 8 8"/><path d="M21 10V3h-7"/></svg>
          </div>
          <div class="vb-service-name">Multi-day Trips</div>
          <div class="vb-service-desc">Private tours & trips</div>
        </div>
        <div class="vb-service-card" data-service="event">
          <div class="vb-service-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg>
          </div>
          <div class="vb-service-name">Event Transportation</div>
          <div class="vb-service-desc">Conferences & groups</div>
        </div>
        <div class="vb-service-card" data-service="uefa">
          <div class="vb-service-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a10 10 0 0110 10M12 2a10 10 0 00-10 10M2 12h20"/></svg>
          </div>
          <div class="vb-service-name">UEFA CL Final</div>
          <div class="vb-service-desc">May 28-31, 2026</div>
        </div>
        <div class="vb-service-card" data-service="f1">
          <div class="vb-service-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 17h14v2H5zM5 12h14M7 7h10l2 5H5l2-5z"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/></svg>
          </div>
          <div class="vb-service-name">F1 Grand Prix</div>
          <div class="vb-service-desc">July 23-26, 2026</div>
        </div>
      </div>

      <div class="vb-form-actions">
        <div></div>
        <button class="vb-btn vb-btn-gold" onclick="goToStep(2)" id="step1Next" disabled>Next: Vehicle & Group →</button>
      </div>
    </div>

    <!-- STEP 2: Vehicle & Group -->
    <div class="vb-form-card" id="step2">
      <h2 class="vb-form-title">Vehicle & Group Details</h2>
      <p class="vb-form-subtitle">Select your preferred vehicle(s) and group size</p>

      <div class="vb-form-section">
        <div class="vb-section-title">Vehicle Selection</div>
        <p class="vb-help-text" style="margin-bottom: 16px;">Select one or more vehicles. For mixed groups, choose multiple vehicle types.</p>

        <div class="vb-vehicle-selection">
          <div class="vb-vehicle-row">
            <label class="vb-checkbox-item">
              <input type="checkbox" name="vehicles" value="business_car" onchange="toggleVehicleQty(this)">
              <span>Business Car - up to 3 pax - Mercedes E-Class</span>
            </label>
            <div class="vb-vehicle-qty"><label>Qty:</label><input type="number" class="vb-input vb-qty-input" value="1" min="1" max="20"></div>
          </div>
          <div class="vb-vehicle-row">
            <label class="vb-checkbox-item">
              <input type="checkbox" name="vehicles" value="premium_van" onchange="toggleVehicleQty(this)">
              <span>Premium VAN - up to 6-7 pax - Mercedes V-Class</span>
            </label>
            <div class="vb-vehicle-qty"><label>Qty:</label><input type="number" class="vb-input vb-qty-input" value="1" min="1" max="20"></div>
          </div>
          <div class="vb-vehicle-row">
            <label class="vb-checkbox-item">
              <input type="checkbox" name="vehicles" value="minibus" onchange="toggleVehicleQty(this)">
              <span>Minibus - up to 14-20 pax - Mercedes Sprinter</span>
            </label>
            <div class="vb-vehicle-qty"><label>Qty:</label><input type="number" class="vb-input vb-qty-input" value="1" min="1" max="20"></div>
          </div>
          <div class="vb-vehicle-row">
            <label class="vb-checkbox-item">
              <input type="checkbox" name="vehicles" value="coach" onchange="toggleVehicleQty(this)">
              <span>Coach Bus - up to 49 pax - Mercedes Tourismo</span>
            </label>
            <div class="vb-vehicle-qty"><label>Qty:</label><input type="number" class="vb-input vb-qty-input" value="1" min="1" max="10"></div>
          </div>
          <div class="vb-vehicle-row">
            <label class="vb-checkbox-item">
              <input type="checkbox" name="vehicles" value="luxury_minibus_vip" onchange="toggleVehicleQty(this)">
              <span>Luxury Minibus <span class="vip-badge">VIP</span> - up to 8 pax - Mercedes Sprinter</span>
            </label>
            <div class="vb-vehicle-qty"><label>Qty:</label><input type="number" class="vb-input vb-qty-input" value="1" min="1" max="10"></div>
          </div>
          <div class="vb-vehicle-row">
            <label class="vb-checkbox-item">
              <input type="checkbox" name="vehicles" value="luxury_car_vip" onchange="toggleVehicleQty(this)">
              <span>Luxury Car <span class="vip-badge">VIP</span> - up to 3 pax - Mercedes S-Class</span>
            </label>
            <div class="vb-vehicle-qty"><label>Qty:</label><input type="number" class="vb-input vb-qty-input" value="1" min="1" max="10"></div>
          </div>
        </div>
      </div>

      <div class="vb-form-section">
        <div class="vb-section-title">Group Details</div>
        <div class="vb-form-row">
          <div class="vb-form-group">
            <label class="vb-label">Total Number of Guests <span class="required">*</span></label>
            <input type="number" class="vb-input" id="totalGuests" value="1" min="1" max="500">
          </div>
          <div class="vb-form-group">
            <label class="vb-label">Pieces of Luggage</label>
            <input type="number" class="vb-input" id="totalLuggage" value="0" min="0" max="100">
          </div>
        </div>
        <div class="vb-form-group">
          <label class="vb-label">Special Items / Notes</label>
          <input type="text" class="vb-input" id="specialItems" placeholder="e.g., Golf bags, Ski equipment, Wheelchair, Child seats">
        </div>
      </div>

      <div class="vb-form-actions">
        <button class="vb-btn vb-btn-outline" onclick="goToStep(1)">← Back</button>
        <button class="vb-btn vb-btn-gold" onclick="goToStep(3)">Next: Service Details →</button>
      </div>
    </div>

    <!-- STEP 3: Service Details -->
    <div class="vb-form-card" id="step3">

      <!-- AIRPORT FLOW -->
      <div class="vb-service-flow" id="flow-airport">
        <h2 class="vb-form-title">Transfer Details</h2>
        <p class="vb-form-subtitle">One-way or return transfers, any distance</p>

        <div class="vb-form-section">
          <div class="vb-section-title">Transfer Information</div>
          <div class="vb-form-row">
            <div class="vb-form-group">
              <label class="vb-label">Pickup Date <span class="required">*</span></label>
              <input type="date" class="vb-input" id="transferPickupDate">
            </div>
            <div class="vb-form-group">
              <label class="vb-label">Pickup Time <span class="required">*</span></label>
              <input type="time" class="vb-input" id="transferPickupTime">
            </div>
          </div>
          <div class="vb-form-group">
            <label class="vb-label">Pickup Address <span class="required">*</span></label>
            <input type="text" class="vb-input" id="transferPickupAddress" placeholder="e.g., Budapest Airport Terminal 2B, Hotel name, or any address">
          </div>
          <div class="vb-form-group">
            <label class="vb-label">Drop-off Address <span class="required">*</span></label>
            <input type="text" class="vb-input" id="transferDropoffAddress" placeholder="e.g., Hilton Budapest, Airport, or any destination">
          </div>
          <div class="vb-form-group">
            <label class="vb-label">Flight Number (if airport transfer)</label>
            <input type="text" class="vb-input" placeholder="e.g., FR1023">
            <p class="vb-help-text">Optional - for airport pickups, we monitor your flight for delays</p>
          </div>
          <div class="vb-form-group">
            <label class="vb-label">Do you require a return transfer? <span class="required">*</span></label>
            <div class="vb-radio-group">
              <label class="vb-radio-item"><input type="radio" name="returnTransfer" value="yes" onchange="toggleReturnFields()"> Yes</label>
              <label class="vb-radio-item checked"><input type="radio" name="returnTransfer" value="no" checked onchange="toggleReturnFields()"> No</label>
            </div>
          </div>
          <div class="vb-conditional" id="returnFields">
            <div class="vb-section-title" style="margin-top:0;">Return Transfer Details</div>
            <div class="vb-form-row">
              <div class="vb-form-group"><label class="vb-label">Return Date</label><input type="date" class="vb-input"></div>
              <div class="vb-form-group"><label class="vb-label">Return Time</label><input type="time" class="vb-input"></div>
            </div>
            <div class="vb-form-group"><label class="vb-label">Return Pickup Address</label><input type="text" class="vb-input" placeholder="e.g., Hotel address for return journey"></div>
            <div class="vb-form-group"><label class="vb-label">Return Drop-off Address</label><input type="text" class="vb-input" placeholder="e.g., Budapest Airport Terminal 2B"></div>
          </div>
        </div>

        <div class="vb-form-section">
          <div class="vb-section-title">Special Requirements (optional)</div>
          <div class="vb-checkbox-group">
            <label class="vb-checkbox-item"><input type="checkbox" value="wheelchair"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="4" r="2"/><path d="M19 13v-2a2 2 0 00-2-2H7M4 19h6.5m0-6v6m0 0l3 3m5-6a3 3 0 11-6 0"/></svg></span> Wheelchair accessible</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="child-seats"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="3"/><path d="M12 8v4m-3 8l3-4 3 4m-6-4h6"/></svg></span> Child safety seats</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="hostess"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span> Hostess / Additional Staff</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="coordinator"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="7" r="4"/><path d="M5 21v-2a7 7 0 0114 0v2"/></svg></span> On-site coordinator</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="english-driver"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg></span> English-speaking driver</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="security"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg></span> Security / Protocol</label>
          </div>
          <div class="vb-form-group" style="margin-top: 16px;">
            <label class="vb-label">Additional Preferences (optional)</label>
            <textarea class="vb-textarea" rows="2" style="min-height:50px;" placeholder="Any other requests..."></textarea>
          </div>
        </div>

        <div class="vb-form-actions">
          <button class="vb-btn vb-btn-outline" onclick="goToStep(2)">← Back</button>
          <button class="vb-btn vb-btn-gold" onclick="saveServiceAndContinue()">Next: Contact Details →</button>
        </div>
      </div>

      <!-- HOURLY FLOW -->
      <div class="vb-service-flow" id="flow-hourly">
        <h2 class="vb-form-title">Hourly Ride & Sightseeing</h2>
        <p class="vb-form-subtitle">Chauffeur service or private guided tour in Budapest</p>

        <div class="vb-form-section">
          <div class="vb-section-title">What type of service do you need?</div>
          <div class="vb-form-group">
            <div class="vb-radio-group" style="display:grid; gap:12px;">
              <label class="vb-radio-item" style="padding:16px; border-radius:8px; cursor:pointer;">
                <input type="radio" name="hourlyServiceType" value="chauffeur" onchange="toggleHourlyFields()">
                <div style="margin-left:8px;">
                  <strong>Chauffeur Service</strong> <span style="color:#666;">(driver only)</span>
                  <p style="margin:4px 0 0; font-size:13px; color:#666;">You direct the route - perfect for business, shopping, or custom itineraries</p>
                </div>
              </label>
              <label class="vb-radio-item" style="padding:16px; border-radius:8px; cursor:pointer;">
                <input type="radio" name="hourlyServiceType" value="sightseeing" onchange="toggleHourlyFields()">
                <div style="margin-left:8px;">
                  <strong>Private Sightseeing Tour</strong> <span style="color:#C8B560;">(driver + licensed guide)</span>
                  <p style="margin:4px 0 0; font-size:13px; color:#666;">Expert guide plans the tour - history, culture, local insights included</p>
                </div>
              </label>
            </div>
          </div>
        </div>

        <div class="vb-conditional" id="hourlyAllFields">
          <div class="vb-conditional" id="guideFields">
            <div class="vb-form-section">
              <div class="vb-section-title">Tour Guide Options</div>
              <div class="vb-form-group">
                <label class="vb-label">Guide Language <span class="required">*</span></label>
                <select class="vb-select">
                  <option value="">-- Select language --</option>
                  <option value="english">English</option>
                  <option value="german">German (Deutsch)</option>
                  <option value="spanish">Spanish (Español)</option>
                  <option value="french">French (Français)</option>
                  <option value="italian">Italian (Italiano)</option>
                  <option value="russian">Russian (Русский)</option>
                  <option value="chinese">Chinese (中文)</option>
                  <option value="polish">Polish (Polski)</option>
                </select>
              </div>
              <div class="vb-form-group">
                <label class="vb-label">Tour Package <span class="required">*</span></label>
                <div class="vb-radio-group" style="display:grid; gap:10px;">
                  <label class="vb-radio-item" style="padding:12px 16px; align-items:flex-start;">
                    <input type="radio" name="tourPackage" value="castle" onchange="toggleCustomTour()" style="margin-top:3px;">
                    <div style="margin-left:8px;"><strong>Castle District Focus</strong> <span style="color:#666; font-size:13px;">(3-4 hours)</span><p style="margin:2px 0 0; font-size:13px; color:#666;">Buda Castle, Fisherman's Bastion, Matthias Church, Gellert Hill</p></div>
                  </label>
                  <label class="vb-radio-item" style="padding:12px 16px; align-items:flex-start;">
                    <input type="radio" name="tourPackage" value="pest" onchange="toggleCustomTour()" style="margin-top:3px;">
                    <div style="margin-left:8px;"><strong>Pest Highlights</strong> <span style="color:#666; font-size:13px;">(3-4 hours)</span><p style="margin:2px 0 0; font-size:13px; color:#666;">Downtown, Basilica, Parliament, Andrassy Avenue, Heroes' Square</p></div>
                  </label>
                  <label class="vb-radio-item vb-most-popular" style="padding:12px 16px; align-items:flex-start; position:relative;">
                    <span class="vb-popular-badge">★ Most Popular</span>
                    <input type="radio" name="tourPackage" value="classic" onchange="toggleCustomTour()" style="margin-top:3px;">
                    <div style="margin-left:8px;"><strong>Budapest Classic</strong> <span style="color:#666; font-size:13px;">(4-5 hours)</span><p style="margin:2px 0 0; font-size:13px; color:#666;">Best of both Buda & Pest sides - the complete introduction</p></div>
                  </label>
                  <label class="vb-radio-item" style="padding:12px 16px; align-items:flex-start;">
                    <input type="radio" name="tourPackage" value="grand" onchange="toggleCustomTour()" style="margin-top:3px;">
                    <div style="margin-left:8px;"><strong>Grand Budapest Tour</strong> <span style="color:#666; font-size:13px;">(6+ hours)</span><p style="margin:2px 0 0; font-size:13px; color:#666;">Full-day comprehensive tour with hidden gems & local favorites</p></div>
                  </label>
                  <label class="vb-radio-item" style="padding:12px 16px; align-items:flex-start;">
                    <input type="radio" name="tourPackage" value="jewish" onchange="toggleCustomTour()" style="margin-top:3px;">
                    <div style="margin-left:8px;"><strong>Jewish Heritage</strong> <span style="color:#666; font-size:13px;">(3-4 hours)</span><p style="margin:2px 0 0; font-size:13px; color:#666;">Jewish Quarter, Great Synagogue, memorials & historic sites</p></div>
                  </label>
                  <label class="vb-radio-item" style="padding:12px 16px; align-items:flex-start;">
                    <input type="radio" name="tourPackage" value="custom" onchange="toggleCustomTour()" style="margin-top:3px;">
                    <div style="margin-left:8px;"><strong>Custom Tour</strong><p style="margin:2px 0 0; font-size:13px; color:#666;">I have specific preferences or interests</p></div>
                  </label>
                </div>
              </div>
              <div class="vb-conditional" id="customTourFields">
                <div class="vb-form-group">
                  <label class="vb-label">Special Requests <span class="required">*</span></label>
                  <textarea class="vb-textarea" placeholder="Tell us about your interests, must-see places, or any special requirements..."></textarea>
                </div>
              </div>
            </div>
          </div>

          <div class="vb-form-section">
            <div class="vb-section-title">Ride Details</div>
            <div class="vb-form-row">
              <div class="vb-form-group"><label class="vb-label">Pickup Date <span class="required">*</span></label><input type="date" class="vb-input" id="hourlyPickupDate"></div>
              <div class="vb-form-group"><label class="vb-label">Pickup Time <span class="required">*</span></label><input type="time" class="vb-input" id="hourlyPickupTime"></div>
            </div>
            <div class="vb-conditional" id="durationField">
              <p class="vb-help-text" style="margin-bottom:12px;">Minimum rental duration is 3+1 hours.</p>
              <div class="vb-form-group">
                <label class="vb-label">Ride Duration <span class="required">*</span></label>
                <select class="vb-select" id="hourlyDuration">
                  <option value="">-- Select duration --</option>
                  <option value="3">3 hours (3+1)</option>
                  <option value="4">4 hours (4+1)</option>
                  <option value="5">5 hours (5+1)</option>
                  <option value="6">6 hours (6+1)</option>
                  <option value="8">8 hours (8+1)</option>
                  <option value="10">10 hours (10+1)</option>
                </select>
              </div>
            </div>
            <div class="vb-form-group"><label class="vb-label">Pickup Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="Enter Pickup Address"></div>
            <div class="vb-conditional" id="chauffeurOnlyFields">
              <div class="vb-form-group"><label class="vb-label">Destination Address</label><input type="text" class="vb-input" placeholder=""></div>
              <div class="vb-form-group"><label class="vb-label">Route & Stops</label><textarea class="vb-textarea" placeholder="Any optional stops along the route"></textarea></div>
            </div>
            <div class="vb-form-group"><label class="vb-label">Drop-off Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="Final Destination Address"></div>
          </div>
        </div>

        <div class="vb-form-section">
          <div class="vb-section-title">Special Requirements (optional)</div>
          <div class="vb-checkbox-group">
            <label class="vb-checkbox-item"><input type="checkbox" value="wheelchair"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="4" r="2"/><path d="M19 13v-2a2 2 0 00-2-2H7M4 19h6.5m0-6v6m0 0l3 3m5-6a3 3 0 11-6 0"/></svg></span> Wheelchair accessible</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="child-seats"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="3"/><path d="M12 8v4m-3 8l3-4 3 4m-6-4h6"/></svg></span> Child safety seats</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="hostess"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span> Hostess / Additional Staff</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="coordinator"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="7" r="4"/><path d="M5 21v-2a7 7 0 0114 0v2"/></svg></span> On-site coordinator</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="english-driver"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg></span> English-speaking driver</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="security"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg></span> Security / Protocol</label>
          </div>
        </div>

        <div class="vb-form-actions">
          <button class="vb-btn vb-btn-outline" onclick="goToStep(2)">← Back</button>
          <button class="vb-btn vb-btn-gold" onclick="saveServiceAndContinue()">Next: Contact Details →</button>
        </div>
      </div>

      <!-- COUNTRYSIDE FLOW -->
      <div class="vb-service-flow" id="flow-countryside">
        <h2 class="vb-form-title">Multi-day Trip Details</h2>
        <p class="vb-form-subtitle">Plan your private tour or extended trip</p>

        <div class="vb-form-section">
          <div class="vb-section-title">Trip Information</div>
          <div class="vb-form-row">
            <div class="vb-form-group"><label class="vb-label">Start Date <span class="required">*</span></label><input type="date" class="vb-input" id="countrysideStartDate"></div>
            <div class="vb-form-group"><label class="vb-label">Pickup Time <span class="required">*</span></label><input type="time" class="vb-input" id="countrysidePickupTime"></div>
          </div>
          <div class="vb-form-group">
            <label class="vb-label">Total Days <span class="required">*</span></label>
            <input type="number" class="vb-input" id="countrysideTotalDays" min="2" max="30" placeholder="e.g., 3">
            <p class="vb-help-text">Minimum 2 days for multi-day trips</p>
          </div>
          <div class="vb-form-group"><label class="vb-label">Pickup Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Hotel in Budapest"></div>
          <div class="vb-form-group">
            <label class="vb-label">Trip Itinerary / Details <span class="required">*</span></label>
            <textarea class="vb-textarea" style="min-height:150px;" placeholder="Describe your trip plan..."></textarea>
          </div>
        </div>

        <div class="vb-form-section">
          <div class="vb-section-title">Special Requirements (optional)</div>
          <div class="vb-checkbox-group">
            <label class="vb-checkbox-item"><input type="checkbox" value="wheelchair"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="4" r="2"/><path d="M19 13v-2a2 2 0 00-2-2H7M4 19h6.5m0-6v6m0 0l3 3m5-6a3 3 0 11-6 0"/></svg></span> Wheelchair accessible</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="child-seats"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="3"/><path d="M12 8v4m-3 8l3-4 3 4m-6-4h6"/></svg></span> Child safety seats</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="english-driver"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg></span> English-speaking driver</label>
            <label class="vb-checkbox-item"><input type="checkbox" value="security"><span class="cb-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg></span> Security / Protocol</label>
          </div>
        </div>

        <div class="vb-form-actions">
          <button class="vb-btn vb-btn-outline" onclick="goToStep(2)">← Back</button>
          <button class="vb-btn vb-btn-gold" onclick="saveServiceAndContinue()">Next: Contact Details →</button>
        </div>
      </div>

      <!-- F1 FLOW -->
      <div class="vb-service-flow" id="flow-f1">
        <h2 class="vb-form-title">F1 Grand Prix Transfers</h2>
        <p class="vb-form-subtitle">July 23-26, 2026 - Hungaroring</p>

        <div class="vb-form-section">
          <div class="vb-section-title">Choose Your Day(s)</div>
          <div class="vb-form-group">
            <label class="vb-label">Select the days you need transportation <span class="required">*</span></label>
            <div class="vb-checkbox-group" style="grid-template-columns: 1fr;">
              <label class="vb-checkbox-item"><input type="checkbox" value="thu"> Thursday, July 23, 2026</label>
              <label class="vb-checkbox-item"><input type="checkbox" value="fri"> Friday, July 24, 2026</label>
              <label class="vb-checkbox-item"><input type="checkbox" value="sat"> Saturday, July 25, 2026</label>
              <label class="vb-checkbox-item"><input type="checkbox" value="sun"> Sunday, July 26, 2026</label>
            </div>
            <p class="vb-help-text">Maximum 10 hours per day. Service ends upon return to Budapest.</p>
          </div>
          <div class="vb-form-group"><label class="vb-label">Pickup Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Hilton Budapest"></div>
          <div class="vb-form-group"><label class="vb-label">Event Destination</label><input type="text" class="vb-input" value="Hungaroring - Formula 1 Hungarian Grand Prix" readonly style="background:#f5f5f5;"></div>
          <div class="vb-form-group"><label class="vb-label">Final Drop-off Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Same as pickup, or Airport"></div>
        </div>

        <div class="vb-form-actions">
          <button class="vb-btn vb-btn-outline" onclick="goToStep(2)">← Back</button>
          <button class="vb-btn vb-btn-gold" onclick="saveServiceAndContinue()">Next: Contact Details →</button>
        </div>
      </div>

      <!-- UEFA FLOW -->
      <div class="vb-service-flow" id="flow-uefa">
        <h2 class="vb-form-title">UEFA Champions League Final</h2>
        <p class="vb-form-subtitle">May 28-31, 2026 - Puskas Arena, Budapest</p>

        <div class="vb-form-section">
          <div class="vb-section-title">Choose Your Day(s)</div>
          <div class="vb-form-group">
            <label class="vb-label">Select the days you need transportation <span class="required">*</span></label>
            <div class="vb-checkbox-group" style="grid-template-columns: 1fr;">
              <label class="vb-checkbox-item"><input type="checkbox" value="thu"> Thursday, May 28, 2026 <span style="color:#666;font-size:12px;margin-left:8px;">(min. 6 hours)</span></label>
              <label class="vb-checkbox-item"><input type="checkbox" value="fri"> Friday, May 29, 2026 <span style="color:#666;font-size:12px;margin-left:8px;">(min. 6 hours)</span></label>
              <label class="vb-checkbox-item"><input type="checkbox" value="sat"> Saturday, May 30, 2026 <span style="color:#C8B560;font-size:12px;margin-left:8px;font-weight:600;">(MATCH DAY - min. 12 hours)</span></label>
              <label class="vb-checkbox-item"><input type="checkbox" value="sun"> Sunday, May 31, 2026 <span style="color:#666;font-size:12px;margin-left:8px;">(min. 6 hours)</span></label>
            </div>
          </div>
          <div class="vb-form-group"><label class="vb-label">Pickup Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Corinthia Hotel Budapest"></div>
          <div class="vb-form-group">
            <label class="vb-label">Destination & Route / Stops <span class="required">*</span></label>
            <textarea class="vb-textarea" placeholder="e.g., Corinthia Hotel → Puskas Arena → City Park → Return to hotel"></textarea>
          </div>
        </div>

        <div class="vb-form-actions">
          <button class="vb-btn vb-btn-outline" onclick="goToStep(2)">← Back</button>
          <button class="vb-btn vb-btn-gold" onclick="saveServiceAndContinue()">Next: Contact Details →</button>
        </div>
      </div>

      <!-- EVENT FLOW -->
      <div class="vb-service-flow" id="flow-event">
        <h2 class="vb-form-title">Event Transportation - Request a Proposal</h2>
        <p class="vb-form-subtitle">Tell us about your event and transportation needs</p>

        <div class="vb-event-substeps">
          <div class="vb-event-substep active" data-substep="1"><div class="vb-event-substep-num">1</div><span>Event Details</span></div>
          <div class="vb-event-substep" data-substep="2"><div class="vb-event-substep-num">2</div><span>Transportation Needs</span></div>
        </div>

        <div class="vb-event-content" id="eventStep1">
          <div class="vb-form-section">
            <div class="vb-section-title">Tell us about your event</div>
            <div class="vb-form-row">
              <div class="vb-form-group"><label class="vb-label">Event Name <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Budapest Tech Summit 2026"></div>
              <div class="vb-form-group"><label class="vb-label">Organization Name <span class="required">*</span></label><input type="text" class="vb-input" placeholder="Company or organization name"></div>
            </div>
            <div class="vb-form-row">
              <div class="vb-form-group">
                <label class="vb-label">Event Type <span class="required">*</span></label>
                <select class="vb-select">
                  <option value="">-- Select event type --</option>
                  <option value="conference">Conference / Summit</option>
                  <option value="corporate">Corporate Meeting / Incentive</option>
                  <option value="wedding">Wedding / Private Celebration</option>
                  <option value="gala">Gala / Award Ceremony</option>
                  <option value="sports">Sports Event</option>
                  <option value="film">Film / TV Production</option>
                  <option value="diplomatic">Diplomatic / Government</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div class="vb-form-group"><label class="vb-label">Expected Guests <span class="required">*</span></label><input type="text" class="vb-input" id="eventExpectedGuests" inputmode="numeric" pattern="[0-9]*" placeholder="Enter number of guests"></div>
            </div>
            <div class="vb-form-row">
              <div class="vb-form-group"><label class="vb-label">Event Start Date <span class="required">*</span></label><input type="date" class="vb-input"></div>
              <div class="vb-form-group"><label class="vb-label">Event End Date <span class="required">*</span></label><input type="date" class="vb-input"></div>
            </div>
            <div class="vb-form-row">
              <div class="vb-form-group"><label class="vb-label">Event City <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Budapest"></div>
              <div class="vb-form-group"><label class="vb-label">Event Venue / Location <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., Hilton Budapest, Buda Castle"><p class="vb-help-text">Main event location</p></div>
            </div>
            <div class="vb-form-group" id="venue2" style="display:none;"><label class="vb-label">Additional Venue 2</label><input type="text" class="vb-input" placeholder="e.g., Gundel Restaurant"></div>
            <div class="vb-form-group" id="venue3" style="display:none;"><label class="vb-label">Additional Venue 3</label><input type="text" class="vb-input" placeholder="e.g., Szechenyi Thermal Bath"></div>
            <span class="vb-add-link" onclick="addVenue()">+ Add another venue</span>
          </div>
          <div class="vb-form-actions">
            <button class="vb-btn vb-btn-outline" onclick="goToStep(2)">← Back</button>
            <button class="vb-btn vb-btn-gold" onclick="goToEventSubstep(2)">Next: Transportation →</button>
          </div>
        </div>

        <div class="vb-event-content" id="eventStep2" style="display:none;">
          <div class="vb-form-section">
            <div class="vb-section-title">What transportation do you need?</div>
            <div class="vb-form-group">
              <label class="vb-label">Services Needed <span class="required">*</span></label>
              <div class="vb-checkbox-group">
                <label class="vb-checkbox-item"><input type="checkbox" value="airport"> Airport transfers</label>
                <label class="vb-checkbox-item"><input type="checkbox" value="shuttle"> Hotel ↔ Venue shuttle</label>
                <label class="vb-checkbox-item"><input type="checkbox" value="hourly-vip"> Hourly VIP / Chauffeur</label>
                <label class="vb-checkbox-item"><input type="checkbox" value="multi-day"> Multi-day program</label>
                <label class="vb-checkbox-item"><input type="checkbox" value="staff"> Staff / Crew transport</label>
                <label class="vb-checkbox-item"><input type="checkbox" value="other" onchange="toggleOtherDetails()"> Other (specify below)</label>
              </div>
              <div class="vb-conditional" id="otherDetails">
                <label class="vb-label">Please specify <span class="required">*</span></label>
                <textarea class="vb-textarea" placeholder="Describe your specific transportation needs..."></textarea>
              </div>
            </div>
            <div class="vb-form-group">
              <label class="vb-label">Schedule / Key Moves <span class="recommended">(recommended)</span></label>
              <textarea class="vb-textarea" placeholder="Example:&#10;• May 15, 10:00 - Airport → Hilton Budapest - 25 guests&#10;• May 15, 18:00 - Hilton → Buda Castle - 25 guests"></textarea>
              <p class="vb-help-text">For accurate pricing, please share at least your top 3 key moves</p>
            </div>
          </div>
          <div class="vb-form-actions">
            <button class="vb-btn vb-btn-outline" onclick="goToEventSubstep(1)">← Back</button>
            <button class="vb-btn vb-btn-gold" onclick="saveServiceAndContinue()">Next: Contact Details →</button>
          </div>
        </div>
      </div>

    </div>

    <!-- STEP 4: Contact & Billing -->
    <div class="vb-form-card" id="step4">
      <h2 class="vb-form-title">Contact & Billing</h2>
      <p class="vb-form-subtitle">Review your services and provide contact details</p>

      <div class="vb-services-summary">
        <div class="vb-summary-title">YOUR SERVICES <span class="vb-summary-count" id="serviceCount">0</span></div>
        <div id="servicesList"></div>
        <button class="vb-add-service-btn" onclick="addAnotherService()" id="addServiceBtn">+ Add Another Service</button>
        <p class="vb-help-text" style="text-align:center; margin-top:8px;">Maximum 5 services per request</p>
      </div>

      <div class="vb-form-section">
        <div class="vb-section-title">Your Contact Details</div>
        <div class="vb-form-row" style="grid-template-columns: 100px 1fr 1fr;">
          <div class="vb-form-group">
            <label class="vb-label">Title</label>
            <select class="vb-select"><option value="">--</option><option value="mr">Mr</option><option value="mrs">Mrs</option><option value="ms">Ms</option><option value="miss">Miss</option><option value="dr">Dr</option></select>
          </div>
          <div class="vb-form-group"><label class="vb-label">First Name <span class="required">*</span></label><input type="text" class="vb-input" placeholder="First name"></div>
          <div class="vb-form-group"><label class="vb-label">Last Name <span class="required">*</span></label><input type="text" class="vb-input" placeholder="Last name"></div>
        </div>
        <div class="vb-form-row">
          <div class="vb-form-group"><label class="vb-label">Email <span class="required">*</span></label><input type="email" class="vb-input" placeholder="email@example.com"></div>
          <div class="vb-form-group"><label class="vb-label">Phone <span class="required">*</span></label><input type="tel" class="vb-input" placeholder="+36 70 XXX XXXX"></div>
        </div>
      </div>

      <div class="vb-form-section" style="padding-bottom: 8px;">
        <label class="vb-checkbox-item" style="padding: 12px 16px; background: #f8f9fa; border-radius: 8px;">
          <input type="checkbox" id="bookingForOther" onchange="toggleClientFields()">
          <span style="font-weight: 500;">I'm booking for someone else</span>
          <span style="font-size: 13px; color: #666; margin-left: 8px;">(e.g., guest, colleague, or client)</span>
        </label>
        <div id="clientFields" style="display: none; margin-top: 20px;">
          <div class="vb-section-title">Passenger / Client Information</div>
          <div class="vb-form-row" style="grid-template-columns: 100px 1fr 1fr;">
            <div class="vb-form-group"><label class="vb-label">Title</label><select class="vb-select"><option value="">--</option><option value="mr">Mr</option><option value="mrs">Mrs</option><option value="ms">Ms</option><option value="miss">Miss</option><option value="dr">Dr</option></select></div>
            <div class="vb-form-group"><label class="vb-label">First Name <span class="required">*</span></label><input type="text" class="vb-input" id="clientFirstName" placeholder="First name"></div>
            <div class="vb-form-group"><label class="vb-label">Last Name <span class="required">*</span></label><input type="text" class="vb-input" id="clientLastName" placeholder="Last name"></div>
          </div>
          <div class="vb-form-group"><label class="vb-label">Mobile <span class="required">*</span></label><input type="tel" class="vb-input" id="clientPhone" placeholder="+36 70 XXX XXXX"></div>
        </div>
      </div>

      <div class="vb-form-section" style="padding-bottom: 8px;">
        <label class="vb-checkbox-item" style="padding: 12px 16px; background: #f8f9fa; border-radius: 8px;">
          <input type="checkbox" id="customSignage" onchange="toggleSignageField()">
          <span style="font-weight: 500;">Use alternative text on the sign</span>
          <span style="font-size: 13px; color: #666; margin-left: 8px;">(for airport meet & greet service)</span>
        </label>
        <div id="signageFields" style="display: none; margin-top: 20px;">
          <div class="vb-form-group"><label class="vb-label">Text on sign <span class="required">*</span></label><input type="text" class="vb-input" id="signageName" placeholder="e.g., Company Name or Group Name"></div>
        </div>
      </div>

      <div class="vb-form-section" style="padding-bottom: 8px;">
        <label class="vb-checkbox-item" style="padding: 14px 18px; background: linear-gradient(135deg, #f8f6f0 0%, #f0ede4 100%); border-radius: 8px; border: 1px solid #d4c9a8;">
          <input type="checkbox" id="needBillingInfo" onchange="toggleBillingFields()">
          <span style="font-weight: 600; color: #1a3c5a;">I need an invoice with specific billing details</span>
        </label>
        <div id="billingFields" style="display: none; margin-top: 20px;">
          <div class="vb-form-group"><label class="vb-label">Name or Company Name <span class="required">*</span></label><input type="text" class="vb-input" placeholder="e.g., John Doe or ABC Company Ltd."></div>
          <div class="vb-form-group"><label class="vb-label">Billing Address <span class="required">*</span></label><input type="text" class="vb-input" placeholder="Street, City, Postal Code, Country"></div>
          <div class="vb-form-group"><label class="vb-label">VAT / Tax Number</label><input type="text" class="vb-input" placeholder="e.g., HU12345678"></div>
          <div class="vb-form-group"><label class="vb-label">Billing Notes</label><textarea class="vb-textarea" rows="2" style="min-height: 50px;" placeholder="Any additional billing instructions..."></textarea></div>
        </div>
      </div>

      <div class="vb-form-section">
        <div class="vb-section-title">Additional Information</div>
        <div class="vb-form-row">
          <div class="vb-form-group">
            <label class="vb-label">How did you hear about us?</label>
            <select class="vb-select"><option value="">-- Select --</option><option value="google">Google Search</option><option value="social">Social Media</option><option value="recommendation">Recommendation</option><option value="travel-agency">Travel Agency / DMC</option><option value="returning">Returning Customer</option><option value="hotel">Hotel Concierge</option><option value="other">Other</option></select>
          </div>
          <div class="vb-form-group"><label class="vb-label">Promo Code (optional)</label><input type="text" class="vb-input" placeholder="Enter promo code if you have one"></div>
        </div>
      </div>

      <div class="vb-form-section">
        <div class="vb-section-title">Preferred Payment Method</div>
        <p class="vb-help-text" style="margin-bottom: 16px;">For credit card payments, a minimal processing fee applies.</p>
        <div class="vb-radio-group" style="display: flex; flex-direction: column; gap: 12px;">
          <label class="vb-radio-item" style="padding: 16px; border-radius: 8px;"><input type="radio" name="paymentMethod" value="bank_transfer"> <div style="margin-left: 8px;"><strong>Bank Transfer</strong><span style="color: #2d5016; font-weight: 600; margin-left: 8px;">- No additional fees</span></div></label>
          <label class="vb-radio-item" style="padding: 16px; border-radius: 8px;"><input type="radio" name="paymentMethod" value="credit_card"> <div style="margin-left: 8px;"><strong>Credit Card</strong><span style="color: #8B6914; font-weight: 600; margin-left: 8px;">- +3% processing fee</span></div></label>
        </div>
      </div>

      <div class="vb-terms">
        <input type="checkbox" id="terms">
        <label for="terms">I accept the <a href="#">Terms & Conditions</a> and <a href="#">Privacy Policy</a> <span class="required">*</span></label>
      </div>

      <div class="vb-form-actions">
        <button class="vb-btn vb-btn-outline" onclick="goToStep(3)">← Back</button>
        <button class="vb-btn vb-btn-gold" onclick="submitForm()">Request a Quote →</button>
      </div>
    </div>

    <!-- CONFIRMATION -->
    <div class="vb-form-card" id="confirmation">
      <div class="vb-confirmation">
        <div class="vb-confirmation-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 6L9 17l-5-5"/></svg></div>
        <h2 class="vb-confirmation-title">Thank You for Your Inquiry!</h2>
        <p class="vb-confirmation-text">We've received your transportation request. Our team will contact you within 24 hours with a customized proposal.</p>
        <div class="vb-next-steps">
          <div class="vb-next-steps-title">What happens next:</div>
          <ol>
            <li>We review your event details and transportation needs</li>
            <li>Our team contacts you to discuss specific routes and timing</li>
            <li>You receive a detailed quote with vehicle options</li>
            <li>Once confirmed, we handle all logistics</li>
          </ol>
        </div>
        <div style="margin-top: 32px;">
          <p style="color: var(--vb-gray-dark); font-size: 14px; margin-bottom: 16px;">Questions? Contact us:</p>
          <p><strong>events@vanbudapest.com</strong></p>
          <p><strong>+36 70 753 6333</strong></p>
        </div>
        <button class="vb-btn vb-btn-outline" style="margin-top: 32px;" onclick="location.reload()">Back to Homepage</button>
      </div>
    </div>

  </div>

  <script>
    let currentStep = 1;
    let currentEventSubstep = 1;
    let selectedService = null;
    let venueCount = 1;
    let services = [];
    let editingServiceIndex = -1;

    const serviceInfo = {
      'airport': { name: 'Airport & Long-Distance Transfer', iconSvg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16v-2l-8-5V3.5a1.5 1.5 0 00-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></svg>' },
      'hourly': { name: 'Hourly Ride & Sightseeing', iconSvg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>' },
      'countryside': { name: 'Multi-day Trip', iconSvg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 7l6 6 4-4 8 8"/><path d="M21 10V3h-7"/></svg>' },
      'f1': { name: 'F1 Grand Prix', iconSvg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 17h14v2H5zM5 12h14M7 7h10l2 5H5l2-5z"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/></svg>' },
      'uefa': { name: 'UEFA Champions League', iconSvg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a10 10 0 0110 10M12 2a10 10 0 00-10 10M2 12h20"/></svg>' },
      'event': { name: 'Event Transportation', iconSvg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg>' }
    };

    document.querySelectorAll('.vb-service-card').forEach(card => {
      card.addEventListener('click', function() {
        document.querySelectorAll('.vb-service-card').forEach(c => c.classList.remove('selected'));
        this.classList.add('selected');
        selectedService = this.dataset.service;
        document.getElementById('step1Next').disabled = false;
      });
    });

    document.querySelectorAll('.vb-checkbox-item input').forEach(cb => {
      cb.addEventListener('change', function() { this.closest('.vb-checkbox-item').classList.toggle('checked', this.checked); });
    });

    document.querySelectorAll('.vb-radio-item input').forEach(radio => {
      radio.addEventListener('change', function() {
        const group = this.closest('.vb-radio-group');
        group.querySelectorAll('.vb-radio-item').forEach(item => item.classList.remove('checked'));
        this.closest('.vb-radio-item').classList.add('checked');
      });
    });

    function goToStep(step) {
      document.querySelectorAll('.vb-step').forEach(s => {
        const stepNum = parseInt(s.dataset.step);
        s.classList.remove('active', 'completed');
        if (stepNum < step) s.classList.add('completed');
        if (stepNum === step) s.classList.add('active');
      });
      var progressLine = document.getElementById('progressLine');
      if (progressLine) progressLine.style.width = ((step - 1) * 33.33) + '%';
      document.querySelectorAll('.vb-form-card').forEach(card => card.classList.remove('active'));
      document.getElementById('step' + step).classList.add('active');
      if (step === 3) showServiceFlow(selectedService);
      if (step === 4) updateServicesSummary();
      var progressBackBtn = document.getElementById('progressBackBtn');
      if (progressBackBtn) progressBackBtn.classList.toggle('show', step > 1);
      currentStep = step;
      window.scrollTo({top: 0, behavior: 'smooth'});
    }

    function goToPreviousStep() { if (currentStep > 1) goToStep(currentStep - 1); }

    function showServiceFlow(service) {
      document.querySelectorAll('.vb-service-flow').forEach(flow => { flow.style.display = 'none'; });
      var flow = document.getElementById('flow-' + service);
      if (flow) { flow.style.display = 'block'; if (service === 'event') goToEventSubstep(1); }
    }

    function goToEventSubstep(substep) {
      document.querySelectorAll('.vb-event-substep').forEach(s => {
        const num = parseInt(s.dataset.substep);
        s.classList.remove('active', 'completed');
        if (num < substep) s.classList.add('completed');
        if (num === substep) s.classList.add('active');
      });
      document.querySelectorAll('.vb-event-content').forEach(c => c.style.display = 'none');
      document.getElementById('eventStep' + substep).style.display = 'block';
      currentEventSubstep = substep;
    }

    function addVenue() {
      venueCount++;
      if (venueCount <= 3) document.getElementById('venue' + venueCount).style.display = 'block';
      if (venueCount >= 3) document.querySelector('.vb-add-link').style.display = 'none';
    }

    function toggleVehicleQty(checkbox) {
      var row = checkbox.closest('.vb-vehicle-row');
      var qtyDiv = row.querySelector('.vb-vehicle-qty');
      qtyDiv.style.display = checkbox.checked ? 'flex' : 'none';
      checkbox.closest('.vb-checkbox-item').classList.toggle('checked', checkbox.checked);
    }

    function toggleReturnFields() {
      var selected = document.querySelector('input[name="returnTransfer"]:checked');
      document.getElementById('returnFields').classList.toggle('show', selected && selected.value === 'yes');
    }

    function toggleHourlyFields() {
      var selected = document.querySelector('input[name="hourlyServiceType"]:checked');
      var allFields = document.getElementById('hourlyAllFields');
      var guideFields = document.getElementById('guideFields');
      var chauffeurFields = document.getElementById('chauffeurOnlyFields');
      var durationField = document.getElementById('durationField');
      if (selected) {
        allFields.classList.add('show');
        if (selected.value === 'sightseeing') { guideFields.classList.add('show'); chauffeurFields.classList.remove('show'); durationField.classList.remove('show'); }
        else { guideFields.classList.remove('show'); chauffeurFields.classList.add('show'); durationField.classList.add('show'); }
      } else { allFields.classList.remove('show'); guideFields.classList.remove('show'); chauffeurFields.classList.remove('show'); durationField.classList.remove('show'); }
    }

    function toggleCustomTour() {
      var selected = document.querySelector('input[name="tourPackage"]:checked');
      document.getElementById('customTourFields').classList.toggle('show', selected && selected.value === 'custom');
    }

    function toggleOtherDetails() {
      var checkbox = document.querySelector('input[value="other"]');
      document.getElementById('otherDetails').classList.toggle('show', checkbox.checked);
    }

    function toggleClientFields() { document.getElementById('clientFields').style.display = document.getElementById('bookingForOther').checked ? 'block' : 'none'; }
    function toggleSignageField() { document.getElementById('signageFields').style.display = document.getElementById('customSignage').checked ? 'block' : 'none'; }
    function toggleBillingFields() { document.getElementById('billingFields').style.display = document.getElementById('needBillingInfo').checked ? 'block' : 'none'; }

    function collectServiceData() {
      var service = selectedService;
      var info = serviceInfo[service];
      var details = service + ' details';
      if (service === 'airport') {
        var pickupDate = document.getElementById('transferPickupDate');
        if (pickupDate && pickupDate.value) details = formatDate(pickupDate.value);
      } else if (service === 'hourly') {
        var hourlyDate = document.getElementById('hourlyPickupDate');
        if (hourlyDate && hourlyDate.value) details = formatDate(hourlyDate.value);
      } else if (service === 'countryside') {
        var startDate = document.getElementById('countrysideStartDate');
        var days = document.getElementById('countrysideTotalDays');
        if (startDate && startDate.value) details = formatDate(startDate.value);
        if (days && days.value) details += ' • ' + days.value + ' days';
      }
      return { type: service, name: info ? info.name : service, iconSvg: info ? info.iconSvg : '', details: details, vehicles: collectVehicleData() };
    }

    function collectVehicleData() {
      var vehicles = [];
      document.querySelectorAll('.vb-vehicle-row').forEach(function(row) {
        var checkbox = row.querySelector('input[type="checkbox"]');
        var qtyInput = row.querySelector('.vb-qty-input');
        if (checkbox && checkbox.checked) vehicles.push({ type: checkbox.value, qty: qtyInput ? parseInt(qtyInput.value) || 1 : 1 });
      });
      return { selectedVehicles: vehicles, guests: document.getElementById('totalGuests') ? document.getElementById('totalGuests').value : '' };
    }

    function formatDate(dateStr) {
      if (!dateStr) return '';
      const date = new Date(dateStr);
      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
    }

    function formatVehicleList(vehicleData) {
      if (!vehicleData || !vehicleData.selectedVehicles || vehicleData.selectedVehicles.length === 0) return '';
      var names = { 'business_car': 'Business Car', 'premium_van': 'Premium VAN', 'minibus': 'Minibus', 'coach': 'Coach Bus', 'luxury_minibus_vip': 'Luxury Minibus VIP', 'luxury_car_vip': 'Luxury Car VIP' };
      var parts = [];
      vehicleData.selectedVehicles.forEach(function(v) {
        var name = names[v.type] || v.type;
        parts.push(v.qty > 1 ? v.qty + '× ' + name : name);
      });
      return parts.join(', ');
    }

    function saveServiceAndContinue() {
      var serviceData = collectServiceData();
      if (editingServiceIndex >= 0) { services[editingServiceIndex] = serviceData; editingServiceIndex = -1; }
      else { services.push(serviceData); }
      goToStep(4);
    }

    function updateServicesSummary() {
      var container = document.getElementById('servicesList');
      var countEl = document.getElementById('serviceCount');
      var addBtn = document.getElementById('addServiceBtn');
      countEl.textContent = services.length;
      if (services.length === 0) { container.innerHTML = '<p class="vb-help-text" style="text-align:center; padding:20px;">No services added yet.</p>'; addBtn.style.display = 'none'; return; }
      addBtn.style.display = services.length >= 5 ? 'none' : 'block';
      var html = '';
      services.forEach(function(service, index) {
        var vehicleText = formatVehicleList(service.vehicles);
        var guestsText = service.vehicles && service.vehicles.guests ? service.vehicles.guests + ' guests' : '';
        html += '<div class="vb-service-item" data-index="' + index + '">';
        html += '<div class="vb-service-item-info"><div class="vb-service-item-icon">' + (service.iconSvg || '') + '</div>';
        html += '<div><div class="vb-service-item-name">' + service.name + '</div>';
        html += '<div class="vb-service-item-details">' + service.details + '</div>';
        if (vehicleText) html += '<div class="vb-service-item-vehicles">' + vehicleText + '</div>';
        if (guestsText) html += '<div class="vb-service-item-guests">' + guestsText + '</div>';
        html += '</div></div>';
        html += '<div class="vb-service-item-actions">';
        html += '<button class="vb-btn-icon vb-btn-edit" title="Edit" onclick="editService(' + index + ')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>';
        html += '<button class="vb-btn-icon vb-btn-remove" title="Remove" onclick="removeService(' + index + ')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg></button>';
        html += '</div></div>';
      });
      container.innerHTML = html;
    }

    function editService(index) {
      editingServiceIndex = index;
      var service = services[index];
      selectedService = service.type;
      document.querySelectorAll('.vb-service-card').forEach(c => { c.classList.remove('selected'); if (c.dataset.service === service.type) c.classList.add('selected'); });
      goToStep(3);
    }

    function removeService(index) {
      if (confirm('Are you sure you want to remove this service?')) { services.splice(index, 1); updateServicesSummary(); }
    }

    function addAnotherService() {
      if (services.length >= 5) { alert('Maximum 5 services per request.'); return; }
      editingServiceIndex = -1;
      selectedService = null;
      document.querySelectorAll('.vb-service-card').forEach(c => c.classList.remove('selected'));
      document.getElementById('step1Next').disabled = true;
      goToStep(1);
    }

    function submitForm() {
      if (services.length === 0) { alert('Please add at least one service before submitting.'); return; }
      document.querySelectorAll('.vb-form-card').forEach(card => card.classList.remove('active'));
      document.getElementById('confirmation').classList.add('active');
      document.querySelectorAll('.vb-step').forEach(s => s.classList.add('completed'));
      window.scrollTo({top: 0, behavior: 'smooth'});
    }
  </script>

</body>
</html>
